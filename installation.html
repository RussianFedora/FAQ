
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Установка системы &#8212; Неофициальный FAQ по Fedora (версия 2022.09.10)</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="_static/search.js"></script>
    <link rel="shortcut icon" href="_static/faq-icon.ico"/>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Пакетный менеджер и установка пакетов" href="package-manager.html" />
    <link rel="prev" title="Основная информация" href="generic-info.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="_static/faq-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="installation">
<span id="id1"></span><h1>Установка системы<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<section id="usb-flash">
<span id="index-0"></span><span id="id2"></span><h2>Как мне создать загрузочную флешку?<a class="headerlink" href="#usb-flash" title="Permalink to this heading">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/07/12/sozdayom-fedora-liveusb.html">здесь</a>.</p>
</section>
<section id="live">
<span id="live-to-ram"></span><span id="index-1"></span><h2>Как загрузить Live образ целиком в память?<a class="headerlink" href="#live" title="Permalink to this heading">¶</a></h2>
<p>Для загрузки <a class="reference internal" href="#usb-flash"><span class="std std-ref">Live образа</span></a> целиком в память, необходимо стрелками выбрать пункт <strong>Start Fedora Live</strong>, нажать <strong>Tab</strong>, затем в строке редактирования параметров добавить <code class="docutils literal notranslate"><span class="pre">rd.live.ram</span></code> через пробел сразу после <code class="docutils literal notranslate"><span class="pre">quiet</span></code> и после этого нажать <strong>Enter</strong>.</p>
</section>
<section id="package-selection">
<span id="index-2"></span><span id="id3"></span><h2>Есть возможность самому выбрать пакеты для установки?<a class="headerlink" href="#package-selection" title="Permalink to this heading">¶</a></h2>
<p>Да, при помощи netinstall образа, но лишь <a class="reference internal" href="package-manager.html#dnf-groups"><span class="std std-ref">группами</span></a>.</p>
</section>
<section id="web-install">
<span id="index-3"></span><span id="id4"></span><h2>Необходим ли доступ в Интернет при установке?<a class="headerlink" href="#web-install" title="Permalink to this heading">¶</a></h2>
<p>Только для netinstall образа. Все остальные устанавливаются «как есть», т.е. со стандартным набором пакетов.</p>
</section>
<section id="automatic-install">
<span id="index-4"></span><span id="id5"></span><h2>Могу ли я автоматизировать установку?<a class="headerlink" href="#automatic-install" title="Permalink to this heading">¶</a></h2>
<p>Да, посредством <a class="reference external" href="https://pykickstart.readthedocs.io/en/latest/">Kickstart</a>.</p>
</section>
<section id="iso">
<span id="custom-iso"></span><span id="index-5"></span><h2>Могу ли я создать свой собственный ISO образ?<a class="headerlink" href="#iso" title="Permalink to this heading">¶</a></h2>
<p>Да. Собственный образ можно создать на базе Kickstart файлов. Более подобную информацию можно найти <a class="reference external" href="https://fedoraproject.org/wiki/Livemedia-creator-_How_to_create_and_use_a_Live_CD">здесь</a>.</p>
<p>Готовые Kickstart проекты для изучения:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://pagure.io/fedora-kickstarts">Fedora</a>;</p></li>
<li><p><a class="reference external" href="https://github.com/RussianFedora/rfremix-kickstarts">RFRemix</a>.</p></li>
</ul>
</div></blockquote>
</section>
<section id="fedora-arm">
<span id="index-6"></span><span id="id6"></span><h2>Можно ли установить Fedora на устройство с ARM?<a class="headerlink" href="#fedora-arm" title="Permalink to this heading">¶</a></h2>
<p>Да. Загрузки доступны для <a class="reference external" href="https://arm.fedoraproject.org/">armhfp</a>, а также <a class="reference external" href="https://alt.fedoraproject.org/alt/">aarch64</a>.</p>
</section>
<section id="secure-boot">
<span id="index-7"></span><span id="id7"></span><h2>Поддерживается ли технология Secure Boot?<a class="headerlink" href="#secure-boot" title="Permalink to this heading">¶</a></h2>
<p>Да, полностью. В качестве предварительного загрузчика используется <strong>shim</strong>, подписанный цифровой подписью Microsoft.</p>
<p>В случае использования внешних модулей ядра, поддержка UEFI Secure Boot может быть <a class="reference internal" href="hardware.html#nvidia-secure-boot"><span class="std std-ref">настроена вручную</span></a>.</p>
</section>
<section id="fedora">
<span id="moving-system"></span><span id="index-8"></span><h2>Могу я переместить Fedora на другой диск?<a class="headerlink" href="#fedora" title="Permalink to this heading">¶</a></h2>
<p>Да. Алгоритм такой:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>загрузка с <a class="reference internal" href="#usb-flash"><span class="std std-ref">Fedora LiveUSB</span></a>;</p></li>
<li><p><a class="reference internal" href="#fedora-partitions"><span class="std std-ref">создание разделов</span></a> для новой установки Fedora посредством GParted или любой другой утилиты разбиения дисков;</p></li>
<li><p>монтирование старых и новых разделов;</p></li>
<li><p><a class="reference internal" href="administration.html#copying-data"><span class="std std-ref">копирование всех файлов и каталогов</span></a> со старого накопителя на новый с сохранением прав доступа;</p></li>
<li><p>редактирование файла <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code> нового накопителя так, чтобы в нём были указаны <a class="reference internal" href="administration.html#get-uuid"><span class="std std-ref">UUID</span></a> новых разделов;</p></li>
<li><p>создание в корневом каталоге нового накопителя файла <code class="docutils literal notranslate"><span class="pre">/.autorelabel</span></code> для автоматической установки <a class="reference internal" href="security.html#selinux-boot-error"><span class="std std-ref">контекста безопасности</span></a> SELinux;</p></li>
<li><p><a class="reference internal" href="using-system.html#grub-rebuild"><span class="std std-ref">установка загрузчика</span></a> (если необходимо).</p></li>
</ol>
</div></blockquote>
</section>
<section id="swap-info">
<span id="index-9"></span><span id="id8"></span><h2>У меня много оперативной памяти. Нужен ли мне раздел подкачки?<a class="headerlink" href="#swap-info" title="Permalink to this heading">¶</a></h2>
<p>За счёт использования <a class="reference internal" href="administration.html#memory-compression"><span class="std std-ref">сжатия памяти zram</span></a>, в современных выпусках Fedora для большинства сценариев использования на рабочих станциях 10+ ГБ оперативной памяти будет вполне достаточно, поэтому раздел подкачки можно не создавать.</p>
<p>Внимание! При отсутствии раздела подкачки перестанет работать функция suspend to disk (гибернация).</p>
</section>
<section id="mem-outage">
<span id="index-10"></span><span id="id9"></span><h2>Что будет если при отсутствующем разделе подкачки закончится память?<a class="headerlink" href="#mem-outage" title="Permalink to this heading">¶</a></h2>
<p>При критическом недостатке оперативной памяти (исчерпании доступных страниц) и при отсутствии подкачки существует риск зависания всей системы.</p>
<p>Таким образом, для данной конфигурации настоятельно рекомендуется использовать любой OOM killer пользовательского режима: <a class="reference internal" href="using-applications.html#earlyoom-info"><span class="std std-ref">earlyoom</span></a>, <a class="reference internal" href="using-applications.html#oomd-info"><span class="std std-ref">systemd-oomd</span></a> и т.п., чтобы не подвергать систему опасности и не доводить до использования механизма OOM Killer ядра Linux.</p>
</section>
<section id="swap-limits">
<span id="index-11"></span><span id="id10"></span><h2>Сколько нужно подкачки для работы гибернации?<a class="headerlink" href="#swap-limits" title="Permalink to this heading">¶</a></h2>
<p>Для нормальной работы режима suspend to disk размер подкачки должен быть больше, либо равен объёму установленной в ПК или ноутбуке оперативной памяти.</p>
</section>
<section id="swap-partitions">
<span id="index-12"></span><span id="id11"></span><h2>Что быстрее: раздел подкачки или файл подкачки?<a class="headerlink" href="#swap-partitions" title="Permalink to this heading">¶</a></h2>
<p>Раздел подкачки, т.к. отсутствуют ограничения, накладываемые используемой файловой системой.</p>
</section>
<section id="swappiness">
<span id="index-13"></span><span id="id12"></span><h2>Можно ли сделать так, чтобы подкачка использовалась лишь при исчерпании ОП?<a class="headerlink" href="#swappiness" title="Permalink to this heading">¶</a></h2>
<p>Да, это возможно. Откроем терминал и выполним следующие команды:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo sysctl -w vm.swappiness=0
sudo sysctl -w vm.watermark_scale_factor=1
</pre></div>
</div>
<p>Изменения вступят в силу немедленно и сохранятся до перезагрузки системы.</p>
<p>Для того, чтобы сделать эти изменения постоянными, создадим <a class="reference internal" href="administration.html#sysctl-permanent"><span class="std std-ref">файл конфигурации sysctl</span></a>.</p>
</section>
<section id="speedup-main">
<span id="index-14"></span><span id="id13"></span><h2>Как ускорить запуск системы?<a class="headerlink" href="#speedup-main" title="Permalink to this heading">¶</a></h2>
<p>Приобрести в компьютер или ноутбук SSD накопитель и установить операционную систему на него. Это даст колоссальный прирост к скорости запуска.</p>
</section>
<section id="ssd">
<span id="speedup-home"></span><span id="index-15"></span><h2>Можно ли не переносить на SSD домашние каталоги пользователей?<a class="headerlink" href="#ssd" title="Permalink to this heading">¶</a></h2>
<p>Можно, но настоятельно не рекомендуется так делать ибо в таком случае прирост скорости работы системы будет далеко не таким большим, каким мог бы быть, т.к. колонна всегда двигается со скоростью самой медленной машины, а это всегда жёсткий диск.</p>
<p>Большая часть приложений хранят в домашних каталогах пользователей свои файлы конфигурации, а также различные кэши. В итоге, они загрузятся быстро, а затем перейдут в состояние iowait для ожидания этих данных с медленного накопителя.</p>
<p>Таким образом, на быстром SSD накопителе следует размещать как корневой, так и домашние каталоги пользователей.</p>
</section>
<section id="fedora-ssd">
<span id="ssd-tuning"></span><span id="index-16"></span><h2>Нужно ли как-то настраивать Fedora для работы с SSD?<a class="headerlink" href="#fedora-ssd" title="Permalink to this heading">¶</a></h2>
<p>Особой настройки не требуется. Необходимо лишь убедиться, что таймер процедуры TRIM активен:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>systemctl status fstrim.timer
</pre></div>
</div>
<p>Если это не так, активируем его:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo systemctl enable fstrim.timer
</pre></div>
</div>
<p>Процедура TRIM для всех установленных твердотельных накопителей будет выполняться автоматически по расписанию один раз в неделю во время простоя системы.</p>
</section>
<section id="fedora-trim">
<span id="ssd-trim"></span><span id="index-17"></span><h2>Возможно ли в Fedora включить TRIM в реальном времени?<a class="headerlink" href="#fedora-trim" title="Permalink to this heading">¶</a></h2>
<p>Да, это возможно. При использовании классической схемы с обычными разделами необходимо добавить опцию монтирования <code class="docutils literal notranslate"><span class="pre">discard</span></code> для каждого раздела на SSD в <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code>.</p>
<p>При использовании LVM, следует открыть файл <code class="docutils literal notranslate"><span class="pre">/etc/lvm/lvm.conf</span></code> в текстовом редакторе и прописать:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>issue_discards = 1
</pre></div>
</div>
<p>При использовании зашифрованных LUKS томов следует в файле <code class="docutils literal notranslate"><span class="pre">/etc/crypttab</span></code> добавить опцию <code class="docutils literal notranslate"><span class="pre">discard</span></code> для каждого тома.</p>
<p>Однако следует помнить, что на некоторых накопителях реалтаймовый TRIM может вызвать сбой в работе контроллера и привести к потере всех данных. Именно поэтому он по умолчанию и не применяется.</p>
<p>Все изменения вступят в силу при следующей загрузке системы.</p>
</section>
<section id="trim">
<span id="ssd-timer"></span><span id="index-18"></span><h2>Почему таймер TRIM отключён по умолчанию?<a class="headerlink" href="#trim" title="Permalink to this heading">¶</a></h2>
<p>Изначально <a class="reference internal" href="#ssd-tuning"><span class="std std-ref">таймер TRIM</span></a> активировался автоматически, если установка Fedora производилась на SSD накопитель, но через некоторое время обнаружилась серьёзная проблема с noname-накопителями. Их контроллеры декларировали поддержку процедуры TRIM, однако при её выполнении теряли все данные на носителе.</p>
<p>Из-за достаточно большого количества жалоб на потерю данных с таких дешёвых контрафактных noname накопителей, созданных на базе простейших контроллеров от флешек и микросхем памяти из отбраковки, было решено таймер отключить.</p>
</section>
<section id="fonts-cleartype">
<span id="index-19"></span><span id="id14"></span><h2>Как улучшить отображение шрифтов в Fedora?<a class="headerlink" href="#fonts-cleartype" title="Permalink to this heading">¶</a></h2>
<p>В актуальных релизах Fedora пакет freetype уже собран с поддержкой субпиксельного сглаживания, поэтому, чтобы получить качественный рендеринг шрифтов, необходимо лишь разрешить использование LCD фильтров, создав символическую ссылку на файл <code class="docutils literal notranslate"><span class="pre">11-lcdfilter-default.conf</span></code> в каталоге <code class="docutils literal notranslate"><span class="pre">/etc/fonts/conf.d</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo ln -s /usr/share/fontconfig/conf.avail/11-lcdfilter-default.conf /etc/fonts/conf.d/
</pre></div>
</div>
<p>Включим поддержку сглаживания для GTK 4 приложений посредством добавления параметра <strong>gtk-hint-font-metrics</strong> в файл конфигурации <code class="docutils literal notranslate"><span class="pre">~/.config/gtk-4.0/settings.ini</span></code> (при отстутствии – создадим):</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Settings]</span><span class="w"></span>
<span class="na">gtk-hint-font-metrics</span><span class="o">=</span><span class="s">1</span><span class="w"></span>
</pre></div>
</div>
<p>Для вступления изменений в силу необходимо повторно войти в систему либо перезагрузить компьютер.</p>
</section>
<section id="fonts-console">
<span id="index-20"></span><span id="id15"></span><h2>В консолях фреймбуфера отображаются кракозябры. Как это починить?<a class="headerlink" href="#fonts-console" title="Permalink to this heading">¶</a></h2>
<p><strong>Способ 1:</strong></p>
<p>Зададим <a class="reference internal" href="administration.html#kernelpm-perm"><span class="std std-ref">параметр ядра</span></a> <code class="docutils literal notranslate"><span class="pre">vconsole.font</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>vconsole.font=latarcyrheb-sun16
</pre></div>
</div>
<p><a class="reference internal" href="using-system.html#grub-rebuild"><span class="std std-ref">Пересоберём</span></a> конфиг Grub2.</p>
<p><strong>Способ 2:</strong></p>
<p>Установим пакет шрифтов Terminus:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install terminus-fonts-console
</pre></div>
</div>
<p>Теперь откроем файл <code class="docutils literal notranslate"><span class="pre">/etc/vconsole.conf</span></code> в текстовом редакторе:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudoedit /etc/vconsole.conf
</pre></div>
</div>
<p>Укажем правильное имя шрифта внутри директивы <code class="docutils literal notranslate"><span class="pre">FONT</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>FONT=ter-v16n
</pre></div>
</div>
<p>Сохраним изменения в файле и <a class="reference internal" href="using-system.html#initrd-rebuild"><span class="std std-ref">пересоберём</span></a> initrd.</p>
</section>
<section id="fs-selection">
<span id="index-21"></span><span id="id16"></span><h2>Какую файловую систему рекомендуется использовать на Fedora?<a class="headerlink" href="#fs-selection" title="Permalink to this heading">¶</a></h2>
<p>Начиная с Fedora 33, в редакции Workstation, для установки по умолчанию предлагается <a class="reference internal" href="#fs-btrfs"><span class="std std-ref">BTRFS</span></a>.</p>
<p>Несмотря на это, мы рекомендуем применять <a class="reference external" href="https://ru.wikipedia.org/wiki/Ext4">ext4</a>. На наш взгляд, это самая стабильная и популярная файловая система в настоящее время.</p>
<p>Для хранения больших объёмов данных можно использовать <a class="reference external" href="https://ru.wikipedia.org/wiki/XFS">XFS</a>. Это также стабильная и быстрая ФС, но следует помнить, что при сбоях электропитания вместо файлов, в которые в этот момент шла запись, могут оказаться нули. Таким образом, XFS следует применять только если есть источник бесперебойного питания (UPS) либо на ноутбуках.</p>
</section>
<section id="btrfs">
<span id="fs-btrfs"></span><span id="index-22"></span><h2>Что вы скажете об установке системы на BTRFS?<a class="headerlink" href="#btrfs" title="Permalink to this heading">¶</a></h2>
<p>Достоинства:</p>
<blockquote>
<div><ul class="simple">
<li><p>поддержка <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%B8_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B8">копирования при записи (COW)</a>;</p></li>
<li><p>поддержка проверки целостности данных посредством контрольных сумм;</p></li>
<li><p>поддержка <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">моментальных снимков системы (snapshot)</a>;</p></li>
<li><p>отсутствие ограничения на максимальное количество файлов;</p></li>
<li><p>поддержка прозрачного сжатия данных с использованием нескольких алгоритмов;</p></li>
<li><p>поддержка подтомов (subvolume);</p></li>
<li><p>встроенная поддержка клонирования, что полезно при создании резервных копий;</p></li>
<li><p><a class="reference internal" href="administration.html#deduplication-disk"><span class="std std-ref">оффлайновая дедупликация</span></a> записываемых данных.</p></li>
</ul>
</div></blockquote>
<p>Недостатки:</p>
<blockquote>
<div><ul class="simple">
<li><p>ранее <a class="reference external" href="https://ru.fedoracommunity.org/posts/budushchee-btrfs/">была слишком нестабильной</a> и при определённых условиях приводила к потере всех данных на накопителе;</p></li>
<li><p>не имеет встроенного полнодискового шифрования;</p></li>
<li><p>известны случаи несовместимости с системой внешнего полнодискового шифрования LUKS;</p></li>
<li><p>из-за COW очень сильно фрагментируется, поэтому не рекомендуется к использованию на жёстких магнитных дисках (HDD);</p></li>
<li><p>без использования флага <code class="docutils literal notranslate"><span class="pre">nodatacow</span></code> проседает производительность баз данных (СУБД), а также виртуальных машин.</p></li>
</ul>
</div></blockquote>
</section>
<section id="fs-convert">
<span id="index-23"></span><span id="id17"></span><h2>Можно ли без потерь данных преобразовать одну файловую систему в другую?<a class="headerlink" href="#fs-convert" title="Permalink to this heading">¶</a></h2>
<p>Нет, конвертирование ФС без потери данных не представляется возможным, поэтому для выполнения данной процедуры необходим другой раздел диска подходящего размера с поддержкой прав доступа Unix. Алгоритм следующий:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>копирование всех данных на другой раздел с <a class="reference internal" href="administration.html#copying-data"><span class="std std-ref">сохранением прав доступа</span></a>;</p></li>
<li><p>форматирование старого раздела с необходимой файловой системой;</p></li>
<li><p>возвращение данных на прежнее место;</p></li>
<li><p><a class="reference internal" href="security.html#selinux-boot-error"><span class="std std-ref">сброс контекста</span></a> SELinux.</p></li>
</ol>
</div></blockquote>
</section>
<section id="fedora-uefi">
<span id="uefi-boot"></span><span id="index-24"></span><h2>Как установить Fedora в UEFI режиме?<a class="headerlink" href="#fedora-uefi" title="Permalink to this heading">¶</a></h2>
<p>Загрузка <a class="reference internal" href="#usb-flash"><span class="std std-ref">Fedora LiveUSB</span></a> образа должна производиться исключительно в UEFI режиме. На большинстве материнских плат в меню вариантов загрузки требуется выбрать режим <em>UEFI External Drive</em> или <em>UEFI USB HDD</em>.</p>
<p>Схемой разбиения диска, на который будет установлен дистрибутив, должна быть <strong>GPT</strong>. Проверить можно посредством выполнения <strong>fdisk</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo fdisk -l
</pre></div>
</div>
<p>Если используется классический <strong>MBR</strong> (<strong>msdos</strong>), необходимо запустить утилиту GParted, выбрать диск из списка, затем в меню <strong>Устройство</strong> пункт <strong>Создать таблицу разделов</strong> – <strong>GPT</strong> и запустить процесс кнопкой <strong>Применить изменения</strong>. Все данные на диске будут уничтожены.</p>
<p>Теперь можно приступать к установке. Автоматическое разбиение в Anaconda произведёт все действия самостоятельно.</p>
</section>
<section id="lvm-vs-partitions">
<span id="index-25"></span><span id="id18"></span><h2>Какой способ разбиения диска лучше выбрать?<a class="headerlink" href="#lvm-vs-partitions" title="Permalink to this heading">¶</a></h2>
<p>Существует 2 способа:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><a class="reference external" href="https://ru.wikipedia.org/wiki/LVM">LVM</a> (используется по умолчанию) – динамические разделы, позволяющие изменять разделы на лету в любую сторону, а также поддерживающие функцию моментальных снимков (снапшотов);</p></li>
<li><p>классическая схема с физическими разделами.</p></li>
</ol>
</div></blockquote>
<p>Если возможности LVM использовать не планируется на ПК или ноутбуке, то рекомендуется применять <a class="reference internal" href="#fedora-partitions"><span class="std std-ref">классическое разбиение</span></a>, т.к. такая схема работает быстрее и надёжнее.</p>
</section>
<section id="fedora-partitions">
<span id="index-26"></span><span id="id19"></span><h2>Как лучше разбить диск самостоятельно?<a class="headerlink" href="#fedora-partitions" title="Permalink to this heading">¶</a></h2>
<p>Если по какой-то причине не хочется доверять автоматическому разбиению, мы рекомендуем следующую конфигурацию (порядок важен):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7.0%" />
<col style="width: 15.0%" />
<col style="width: 13.0%" />
<col style="width: 16.0%" />
<col style="width: 49.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Порядок</p></th>
<th class="head"><p>Файловая система</p></th>
<th class="head"><p>Размер раздела</p></th>
<th class="head"><p>Точка монтирования</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>efi (vfat)</p></td>
<td><p>200 МБ</p></td>
<td><p>/boot/efi</p></td>
<td><p>Служебный ESP (UEFI) раздел.</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>ext4</p></td>
<td><p>1 ГБ</p></td>
<td><p>/boot</p></td>
<td><p>Раздел для хранения ядер и initrd.</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>ext4 или xfs</p></td>
<td><p>20 ГБ</p></td>
<td><p>/</p></td>
<td><p>Корневой раздел для системы и приложений.</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>ext4 или xfs</p></td>
<td><p>всё - swap</p></td>
<td><p>/home</p></td>
<td><p>Раздел для хранения пользовательских файлов.</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>swapfs</p></td>
<td><p>= RAM</p></td>
<td><p>swap</p></td>
<td><p>Раздел подкачки (<a class="reference internal" href="#swap-info"><span class="std std-ref">если необходим</span></a>).</p></td>
</tr>
</tbody>
</table>
<p>Здесь <strong>RAM</strong> – объём установленной оперативной памяти.</p>
</section>
<section id="grub">
<span id="grub-hide"></span><span id="index-27"></span><h2>Как полностью скрыть меню Grub?<a class="headerlink" href="#grub" title="Permalink to this heading">¶</a></h2>
<p>Скрытие меню загрузки:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo grub2-editenv - set menu_auto_hide=1
sudo grub2-mkconfig -o /boot/grub2/grub.cfg
</pre></div>
</div>
<p>Если в дуалбуте установлена ОС Microsoft Windows, но всё равно требуется скрыть меню Grub 2, то вместо <code class="docutils literal notranslate"><span class="pre">menu_auto_hide=1</span></code> следует применять <code class="docutils literal notranslate"><span class="pre">menu_auto_hide=2</span></code>.</p>
<p>Получить доступ к элементам скрытого меню можно посредством зажатия клавиши <strong>Shift</strong> или <strong>F8</strong> во время начальной загрузки системы.</p>
</section>
<section id="grub-show">
<span id="index-28"></span><span id="id20"></span><h2>Как отключить скрытие меню Grub?<a class="headerlink" href="#grub-show" title="Permalink to this heading">¶</a></h2>
<p>Отмена скрытия меню загрузки и отображение его при каждой загрузке системы:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo grub2-editenv - unset menu_auto_hide
sudo grub2-mkconfig -o /boot/grub2/grub.cfg
</pre></div>
</div>
</section>
<section id="windows-uefi-fedora">
<span id="grub-restore"></span><span id="index-29"></span><h2>После установки Windows был затёрт UEFI загрузчик Fedora. Как его восстановить?<a class="headerlink" href="#windows-uefi-fedora" title="Permalink to this heading">¶</a></h2>
<p>Во время своей установки ОС Microsoft Windows всегда осуществляет форматирование служебного ESP раздела диска, поэтому придётся вручную восстановить загрузчик.</p>
<p>Выполним вход в <a class="reference internal" href="administration.html#chroot"><span class="std std-ref">chroot установленной системы</span></a>.</p>
<p>Выполним переустановку загрузчиков Grub2 и shim:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dnf reinstall grub2\* shim
</pre></div>
</div>
<p><a class="reference internal" href="using-system.html#grub-rebuild"><span class="std std-ref">Пересоберём</span></a> конфиг Grub2:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>grub2-mkconfig -o /boot/grub2/grub.cfg
</pre></div>
</div>
<p>Завершим работу chroot окружения:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>logout
</pre></div>
</div>
</section>
<section id="grub-btrfs">
<span id="index-30"></span><span id="id21"></span><h2>Можно ли использовать Grub на BTRFS?<a class="headerlink" href="#grub-btrfs" title="Permalink to this heading">¶</a></h2>
<p>Конфигурация, при которой раздел <strong>/boot</strong> использует файловую систему <a class="reference internal" href="#fs-btrfs"><span class="std std-ref">BTRFS</span></a> (раздел или подтом) является <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1955901#c2">неподдерживаемой</a> и будет приводить к <a class="reference internal" href="tips-and-tricks.html#grub-sparse-not-allowed"><span class="std std-ref">возникновению ошибки</span></a>.</p>
</section>
<section id="root-no-password">
<span id="index-31"></span><span id="id22"></span><h2>При установке не предлагается установить пароль для суперпользователя. Это нормально?<a class="headerlink" href="#root-no-password" title="Permalink to this heading">¶</a></h2>
<p>Да. Если при установке системы был создан <a class="reference internal" href="security.html#admin-vs-user"><span class="std std-ref">пользователь-администратор</span></a>, то пароль для учётной записи суперпользователя (root) не устанавливается.</p>
<p>Для выполнения команд с привилегиями суперпользователя в настоящее время рекомендуется <a class="reference internal" href="security.html#sudo-run"><span class="std std-ref">использовать sudo</span></a>.</p>
<p>Однако если по какой-то причине работающая учётная запись root необходима, можно её активировать, <a class="reference internal" href="security.html#root-password"><span class="std std-ref">установив пароль</span></a>.</p>
</section>
<section id="installation-date">
<span id="index-32"></span><span id="id23"></span><h2>Как определить точную дату установки ОС?<a class="headerlink" href="#installation-date" title="Permalink to this heading">¶</a></h2>
<p>Т.к. операционная система постоянно обновляется, точную дату установки ОС напрямую получить не представляется возможным. Можно лишь вывести дату последнего форматирования раздела диска, на котором установлена система:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dumpe2fs /dev/sda1 | grep &#39;Filesystem created:&#39;
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> – раздел диска с Fedora.</p>
</section>
<section id="installation-mode">
<span id="index-33"></span><span id="id24"></span><h2>Как определить в каком режиме была произведена установка системы?<a class="headerlink" href="#installation-mode" title="Permalink to this heading">¶</a></h2>
<p>Определим режим установки системы (<a class="reference internal" href="#uefi-boot"><span class="std std-ref">UEFI</span></a> или Legacy) посредством проверки наличия либо отсутствия каталога <code class="docutils literal notranslate"><span class="pre">/sys/firmware/efi</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>test -d /sys/firmware/efi &amp;&amp; echo EFI || echo Legacy
</pre></div>
</div>
</section>
<section id="fedora-dual-boot">
<span id="dual-boot"></span><span id="index-34"></span><h2>Как установить Fedora в dual-boot вместе с другой ОС?<a class="headerlink" href="#fedora-dual-boot" title="Permalink to this heading">¶</a></h2>
<p>Существует два способа: автоматический и ручной.</p>
<p><strong>Автоматический способ:</strong></p>
<p>Загрузим систему с <a class="reference internal" href="#usb-flash"><span class="std std-ref">Fedora LiveUSB</span></a>, выберем автоматической способ разбиения. Все действия будут выполнены автоматически с настройками по умолчанию.</p>
<p><strong>Ручной способ:</strong></p>
<p>Выполним следующие шаги в строго указанном порядке:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>загрузим систему с <a class="reference internal" href="#usb-flash"><span class="std std-ref">Live образа</span></a>;</p></li>
<li><p>установим менеджер разделов <strong>GParted</strong> <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">gparted</span></code> (потребуется доступ к Интернету; в XFCE и LXDE Live он уже присутствует внутри базового образа);</p></li>
<li><p>запустим GParted, затем уменьшим раздел другой ОС так, чтобы на диске появилось свободное место достаточного объёма;</p></li>
<li><p>создадим <a class="reference internal" href="#fedora-partitions"><span class="std std-ref">новые разделы</span></a> для Fedora;</p></li>
<li><p>запустим установку в режиме ручного разбиения диска, затем укажем точки монтирования для созданных разделов;</p></li>
<li><p>завершим установку и перезагрузимся в установленную ОС;</p></li>
<li><p>в случае если другой ОС является Microsoft Windows, применим <a class="reference internal" href="tips-and-tricks.html#dual-boot-optimizations"><span class="std std-ref">следующие оптимизации</span></a>.</p></li>
</ol>
</div></blockquote>
<p>Загрузчик <a class="reference internal" href="generic-info.html#grub-loader"><span class="std std-ref">Grub 2</span></a> автоматически обнаружит другие операционные системы на устройстве и добавит их в список загрузки.</p>
</section>
<section id="minimal-installation">
<span id="index-35"></span><span id="id25"></span><h2>Как произвести минимальную установку системы?<a class="headerlink" href="#minimal-installation" title="Permalink to this heading">¶</a></h2>
<p>Если требуется выполнить минимальную установку системы без дополнительного программного обеспечения, но с графической средой Gnome или KDE, выполним следующие шаги в строго указанном порядке:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>осуществим загрузку с <a class="reference internal" href="generic-info.html#download"><span class="std std-ref">netinstall-образа</span></a>;</p></li>
<li><p>в списке доступных компонентов выберем «Минимальная система»;</p></li>
<li><p>завершим установку в штатном режиме;</p></li>
<li><p>загрузимся в установленную систему;</p></li>
<li><p>отключим установку <a class="reference internal" href="package-manager.html#dnf-weakdeps"><span class="std std-ref">слабых зависимостей</span></a>;</p></li>
<li><p>установим графичекую среду: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">gdm</span> <span class="pre">gnome-shell</span></code> (для Gnome 3), либо <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">sddm</span> <span class="pre">plasma-workspace</span></code> (KDE Plasma);</p></li>
<li><p>активируем менеджер графического входа в систему: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">enable</span> <span class="pre">gdm.service</span></code> (для Gnome 3), либо <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">enable</span> <span class="pre">sddm.service</span></code> (KDE Plasma);</p></li>
<li><p>сделаем <a class="reference internal" href="administration.html#configure-runlevel"><span class="std std-ref">графический вход</span></a> в систему основным: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">set-default</span> <span class="pre">graphical.target</span></code>;</p></li>
<li><p>осуществим перезагрузку системы: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">reboot</span></code>.</p></li>
</ol>
</div></blockquote>
<p>Минимально возможная установка успешно завершена.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Искать" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Навигация</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="generic-info.html">Основная информация</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Установка системы</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#usb-flash">Как мне создать загрузочную флешку?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#live">Как загрузить Live образ целиком в память?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-selection">Есть возможность самому выбрать пакеты для установки?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-install">Необходим ли доступ в Интернет при установке?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-install">Могу ли я автоматизировать установку?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iso">Могу ли я создать свой собственный ISO образ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-arm">Можно ли установить Fedora на устройство с ARM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#secure-boot">Поддерживается ли технология Secure Boot?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora">Могу я переместить Fedora на другой диск?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#swap-info">У меня много оперативной памяти. Нужен ли мне раздел подкачки?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mem-outage">Что будет если при отсутствующем разделе подкачки закончится память?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#swap-limits">Сколько нужно подкачки для работы гибернации?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#swap-partitions">Что быстрее: раздел подкачки или файл подкачки?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#swappiness">Можно ли сделать так, чтобы подкачка использовалась лишь при исчерпании ОП?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#speedup-main">Как ускорить запуск системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ssd">Можно ли не переносить на SSD домашние каталоги пользователей?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-ssd">Нужно ли как-то настраивать Fedora для работы с SSD?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-trim">Возможно ли в Fedora включить TRIM в реальном времени?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trim">Почему таймер TRIM отключён по умолчанию?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fonts-cleartype">Как улучшить отображение шрифтов в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fonts-console">В консолях фреймбуфера отображаются кракозябры. Как это починить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fs-selection">Какую файловую систему рекомендуется использовать на Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#btrfs">Что вы скажете об установке системы на BTRFS?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fs-convert">Можно ли без потерь данных преобразовать одну файловую систему в другую?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-uefi">Как установить Fedora в UEFI режиме?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lvm-vs-partitions">Какой способ разбиения диска лучше выбрать?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-partitions">Как лучше разбить диск самостоятельно?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub">Как полностью скрыть меню Grub?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub-show">Как отключить скрытие меню Grub?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows-uefi-fedora">После установки Windows был затёрт UEFI загрузчик Fedora. Как его восстановить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub-btrfs">Можно ли использовать Grub на BTRFS?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#root-no-password">При установке не предлагается установить пароль для суперпользователя. Это нормально?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-date">Как определить точную дату установки ОС?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-mode">Как определить в каком режиме была произведена установка системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fedora-dual-boot">Как установить Fedora в dual-boot вместе с другой ОС?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimal-installation">Как произвести минимальную установку системы?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="package-manager.html">Пакетный менеджер и установка пакетов</a></li>
<li class="toctree-l1"><a class="reference internal" href="administration.html">Системное администрирование</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Сетевое администрирование</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtualization.html">Виртуализация</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Безопасность</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-system.html">Работа в системе</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-applications.html">Сторонние приложения</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Оборудование</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Разработка и сборка пакетов</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips-and-tricks.html">Оптимизация и тонкая настройка</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal-info.html">Правовая информация</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="generic-info.html" title="предыдущая глава">Основная информация</a></li>
      <li>Next: <a href="package-manager.html" title="следующая глава">Пакетный менеджер и установка пакетов</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018 - 2022, EasyCoding Team and contributors.
      
    </div>

    
    <a href="https://github.com/RussianFedora/FAQ" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/forkme_right_green.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>