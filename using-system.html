
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Работа в системе &#8212; Неофициальный FAQ по Fedora (версия 2023.04.04)</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/translations.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="_static/search.js"></script>
    <link rel="icon" href="_static/faq-icon.ico"/>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Сторонние приложения" href="using-applications.html" />
    <link rel="prev" title="Безопасность" href="security.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="_static/faq-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="using-system">
<span id="id1"></span><h1>Работа в системе<a class="headerlink" href="#using-system" title="Permalink to this heading">¶</a></h1>
<section id="autocompletion">
<span id="index-0"></span><span id="id2"></span><h2>У меня в системе не работает автодополнение команд. Как исправить?<a class="headerlink" href="#autocompletion" title="Permalink to this heading">¶</a></h2>
<p>Необходимо установить пакет sqlite:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install sqlite
</pre></div>
</div>
<p>При определённых условиях он может не быть установлен и из-за этого система автоматического дополнения команд может перестать функционировать.</p>
</section>
<section id="dnf-completion">
<span id="index-1"></span><span id="id3"></span><h2>Не работает автодополнение имён пакетов. Как исправить?<a class="headerlink" href="#dnf-completion" title="Permalink to this heading">¶</a></h2>
<p>Существует <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1625674">баг</a>, который блокирует возможность использования автоматического дополнения имён пакетов в dnf при наличии в системе подключённых сторонних репозиториев.</p>
<p>В качестве временного решения можно прекратить их использование.</p>
</section>
<section id="backup-system">
<span id="index-2"></span><span id="id4"></span><h2>Можно ли делать резервную копию корневого раздела работающей системы?<a class="headerlink" href="#backup-system" title="Permalink to this heading">¶</a></h2>
<p>Настоятельно не рекомендуется из-за множества работающих виртуальных файловых систем и псевдофайлов в <code class="docutils literal notranslate"><span class="pre">/sys</span></code>, <code class="docutils literal notranslate"><span class="pre">/dev</span></code>, <code class="docutils literal notranslate"><span class="pre">/proc</span></code> и т.д.</p>
</section>
<section id="backup-home">
<span id="index-3"></span><span id="id5"></span><h2>Как сделать копию домашнего каталога?<a class="headerlink" href="#backup-home" title="Permalink to this heading">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2017/09/03/avtomatiziruem-rezervnoe-kopirovanie-v-fedora.html">здесь</a>.</p>
</section>
<section id="backup-create">
<span id="index-4"></span><span id="id6"></span><h2>Как лучше всего делать резервную копию корневого раздела?<a class="headerlink" href="#backup-create" title="Permalink to this heading">¶</a></h2>
<p>Обязательно загрузимся с <a class="reference internal" href="installation.html#usb-flash"><span class="std std-ref">Fedora LiveUSB</span></a>, откроем эмулятор терминала запустим создание <a class="reference internal" href="#dd-mount"><span class="std std-ref">посекторного образа</span></a>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dd if=/dev/sda1 of=/path/to/image.raw bs=32M status=progress
</pre></div>
</div>
<p>Воспользуемся утилитой <strong>xz</strong> для эффективного сжатия полученного образа диска:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo xz -9 -T$(nproc) /path/to/image.raw
</pre></div>
</div>
<p>Здесь <strong>/dev/sda1</strong> – раздел диска, резервную копию которого требуется создать, а <strong>/path/to/image.raw</strong> – полный путь к файлу образа (должен находиться на другом разделе диска).</p>
</section>
<section id="initrd">
<span id="initrd-rebuild"></span><span id="index-5"></span><h2>Как мне пересобрать образ initrd?<a class="headerlink" href="#initrd" title="Permalink to this heading">¶</a></h2>
<p>Выполним пересборку образа initrd загруженного ядра:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dracut -f
</pre></div>
</div>
<p>Выполним пересборку образов initrd всех установленных в системе ядер:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dracut --regenerate-all --force
</pre></div>
</div>
</section>
<section id="grub-2">
<span id="grub-reinstall"></span><span id="index-6"></span><h2>Как мне переустановить Grub 2?<a class="headerlink" href="#grub-2" title="Permalink to this heading">¶</a></h2>
<p>См. <a class="reference external" href="https://fedoraproject.org/wiki/GRUB_2">здесь</a>.</p>
</section>
<section id="grub-rebuild">
<span id="index-7"></span><span id="id7"></span><h2>Как пересобрать конфиг Grub 2?<a class="headerlink" href="#grub-rebuild" title="Permalink to this heading">¶</a></h2>
<p>Начиная с Fedora 30, по умолчанию вместо <a class="reference external" href="https://fedoraproject.org/wiki/Changes/BootLoaderSpecByDefault">устаревшего способа</a> с добавлением ядер через grubby, применяется <a class="reference internal" href="#grub-bls-info"><span class="std std-ref">BLS</span></a>, поэтому пересборка конфига больше не требуется.</p>
<p>Пересборка конфига Grub 2 для <a class="reference external" href="https://fedoraproject.org/wiki/Changes/UnifyGrubConfig">всех конфигураций</a> Fedora:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo grub2-mkconfig -o /boot/grub2/grub.cfg
</pre></div>
</div>
</section>
<section id="bls">
<span id="grub-bls-info"></span><span id="index-8"></span><h2>Что такое BLS и почему он используется по умолчанию?<a class="headerlink" href="#bls" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://systemd.io/BOOT_LOADER_SPECIFICATION">BLS</a> – это универсальный формат параметров загрузки, который будет поддерживаться большинством современных загрузчиков.</p>
<p>Все параметры генерируются на этапе компиляции ядра и сохраняются в специальном conf-файле, который устанавливается в каталог <code class="docutils literal notranslate"><span class="pre">/boot/loader/entries</span></code>.</p>
<p>Т.к. это статические файлы, <a class="reference internal" href="administration.html#kernelpm-perm"><span class="std std-ref">нестандартные параметры ядра</span></a> теперь устанавливаются при помощи <code class="docutils literal notranslate"><span class="pre">grubenv</span></code>.</p>
</section>
<section id="grub-2-bls">
<span id="grub-to-bls"></span><span id="index-9"></span><h2>Как перейти с классического Grub 2 на BLS?<a class="headerlink" href="#grub-2-bls" title="Permalink to this heading">¶</a></h2>
<p>Переход с классического Grub 2 на BLS полностью автоматизирован. Выполним специальный скрипт, входящий в поставку Fedora 30+:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo grub2-switch-to-blscfg
</pre></div>
</div>
</section>
<section id="bls-grub-2">
<span id="grub-from-bls"></span><span id="index-10"></span><h2>Как вернуться с BLS на классический Grub 2?<a class="headerlink" href="#bls-grub-2" title="Permalink to this heading">¶</a></h2>
<p>Установим пакет <strong>grubby</strong>, т.к. он используется при добавлении ядер:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install grubby
</pre></div>
</div>
<p>Откроем файл конфигурации Grub 2 в текстовом редакторе:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudoedit /etc/default/grub
</pre></div>
</div>
<p>Внесём правки, запретив использование BLS:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>GRUB_ENABLE_BLSCFG=false
</pre></div>
</div>
<p><a class="reference internal" href="#grub-rebuild"><span class="std std-ref">Пересоберём конфиг Grub 2</span></a> и перезагрузим систему.</p>
</section>
<section id="slow-shutdown">
<span id="index-11"></span><span id="id8"></span><h2>Система медленно завершает работу. Можно ли это ускорить?<a class="headerlink" href="#slow-shutdown" title="Permalink to this heading">¶</a></h2>
<p>См. <a class="reference external" href="https://www.easycoding.org/2016/08/08/uskoryaem-zavershenie-raboty-fedora-24.html">здесь</a>.</p>
</section>
<section id="remove-old-files">
<span id="index-12"></span><span id="id9"></span><h2>Как удалить любые файлы, старше 2 суток из указанного каталога?<a class="headerlink" href="#remove-old-files" title="Permalink to this heading">¶</a></h2>
<p>Ресурсивно удаляем файлы старше 2 суток в указанном каталоге:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>find ~/foo-bar -type f -mtime +2 -delete
</pre></div>
</div>
<p>Удаляем файлы старше 2 суток в указанном каталоге с ограничением рекурсии:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>find ~/foo-bar -maxdepth 1 -type f -mtime +2 -delete
</pre></div>
</div>
<p>Здесь <strong>~/foo-bar</strong> – начальный каталог, в котором производится удаление.</p>
</section>
<section id="kde-gtk">
<span id="double-click-speed"></span><span id="index-13"></span><h2>Я использую KDE. Как мне настроить скорость двойного клика в GTK приложениях?<a class="headerlink" href="#kde-gtk" title="Permalink to this heading">¶</a></h2>
<p>Для настройки GTK 2 приложений необходимо открыть файл <code class="docutils literal notranslate"><span class="pre">~/.gtkrc-2.0</span></code> в любом текстовом редакторе (если он отсутствует — создать), затем прописать в самом конце:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gtk-double-click-time=1000
</pre></div>
</div>
<p>Для GTK 3 нужно редактировать <code class="docutils literal notranslate"><span class="pre">~/.config/gtk-3.0/settings.ini</span></code>. В нём следует прописать то же самое:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gtk-double-click-time=1000
</pre></div>
</div>
<p>Здесь <strong>1000</strong> — время в миллисекундах до активации двойного клика. Документация с подробным описанием всех переменных данных файлов конфигурации <a class="reference external" href="https://developer.gnome.org/gtk3/stable/GtkSettings.html">здесь</a>.</p>
</section>
<section id="block-screen">
<span id="index-14"></span><span id="id10"></span><h2>Возможно ли заблокировать экран из командной строки?<a class="headerlink" href="#block-screen" title="Permalink to this heading">¶</a></h2>
<p>Да:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>loginctl lock-session
</pre></div>
</div>
</section>
<section id="bash">
<span id="bash-shell"></span><span id="index-15"></span><h2>Можно ли изменить приветствие Bash по умолчанию?<a class="headerlink" href="#bash" title="Permalink to this heading">¶</a></h2>
<p>Да, необходимо в пользовательский файл <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> добавить строку вида:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>export PS1=&quot;\[\e[33m\][\[\e[36m\]\u\[\e[0m\]@\[\e[31m\]\h\[\e[0m\] \[\e[32m\]\W\[\e[33m\]]\[\e[35m\]\$\[\e[0m\] &quot;
</pre></div>
</div>
<p>Существует удобный онлайн генератор таких строк <a class="reference external" href="http://bashrcgenerator.com/">здесь</a>.</p>
</section>
<section id="shell">
<span id="bash-title"></span><span id="index-16"></span><h2>Можно ли из shell скрипта менять название терминала?<a class="headerlink" href="#shell" title="Permalink to this heading">¶</a></h2>
<p>Да, при помощи <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D0%B5_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8_ANSI">управляющих последовательностей</a>. Ими же можно менять цвет текста вывода и многое другое.</p>
</section>
<section id="configure-ntp">
<span id="index-17"></span><span id="id11"></span><h2>Как настроить синхронизацию времени?<a class="headerlink" href="#configure-ntp" title="Permalink to this heading">¶</a></h2>
<p>В Fedora для этой цели используется chronyd, который установлен и запущен по умолчанию.</p>
<p>Чтобы узнать включена ли синхронизация времени с NTP серверами, можно использовать утилиту <strong>timedatectl</strong>.</p>
<p>Если синхронизация отключена, нужно убедиться, что сервис chronyd активирован:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo systemctl enable chronyd.service
</pre></div>
</div>
<p>Получить список NTP серверов, с которыми осуществляется синхронизация, можно так:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>chronyc sources
</pre></div>
</div>
</section>
<section id="systemd-analyze">
<span id="index-18"></span><span id="id12"></span><h2>Как узнать какой сервис замедляет загрузку системы?<a class="headerlink" href="#systemd-analyze" title="Permalink to this heading">¶</a></h2>
<p>Вывод информации в виде текста:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>systemd-analyze blame
</pre></div>
</div>
<p>Вывод информации в виде SVG изображения:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>systemd-analyze plot &gt; systemd-plot.svg
xdg-open systemd-plot.svg
</pre></div>
</div>
</section>
<section id="gnome-qt">
<span id="window-hidpi-qt"></span><span id="index-19"></span><h2>У меня в Gnome не работает масштабирование окон Qt приложений. Что делать?<a class="headerlink" href="#gnome-qt" title="Permalink to this heading">¶</a></h2>
<p>Для активации автоматического масштабирования достаточно прописать в файле <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> следующие строки:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>export QT_AUTO_SCREEN_SCALE_FACTOR=1
export QT_SCALE_FACTOR=2
</pre></div>
</div>
<p>Переменная <code class="docutils literal notranslate"><span class="pre">QT_AUTO_SCREEN_SCALE_FACTOR</span></code> имеет тип boolean (значения <strong>1</strong> (включено) или <strong>0</strong> (выключено)) и управляет автоматическим масштабированием в зависимости от разрешения экрана.</p>
<p>Переменная <code class="docutils literal notranslate"><span class="pre">QT_SCALE_FACTOR</span></code> задаёт коэффициент масштабирования:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>1.5</strong> – 150%;</p></li>
<li><p><strong>1.75</strong> – 175%;</p></li>
<li><p><strong>2</strong> – 200%;</p></li>
<li><p><strong>2.5</strong> – 250%;</p></li>
<li><p><strong>3</strong> – 300%.</p></li>
</ul>
</div></blockquote>
<p>Более подробную информацию можно найти в <a class="reference external" href="https://doc.qt.io/qt-5/highdpi.html">документации Qt</a>.</p>
</section>
<section id="sddm">
<span id="sddm-disable-vkb"></span><span id="index-20"></span><h2>Как отключить виртуальную клавиатуру в SDDM?<a class="headerlink" href="#sddm" title="Permalink to this heading">¶</a></h2>
<p>Чтобы отключить поддержку ввода с виртуальной экранной клавиатуры в менеджере входа в систему SDDM, откроем в текстовом редакторе файл <code class="docutils literal notranslate"><span class="pre">/etc/sddm.conf</span></code>, а затем найдём и удалим следующую строку:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>InputMethod=qtvirtualkeyboard
</pre></div>
</div>
<p>Если она отсутствует, создадим в блоке <code class="docutils literal notranslate"><span class="pre">[General]</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>InputMethod=
</pre></div>
</div>
<p>Изменения вступят в силу при следующей загрузке системы.</p>
</section>
<section id="failed-to-start-load-kernel-modules">
<span id="failed-to-start"></span><span id="index-21"></span><h2>При загрузке системы появляется ошибка Failed to start Load Kernel Modules. Как исправить?<a class="headerlink" href="#failed-to-start-load-kernel-modules" title="Permalink to this heading">¶</a></h2>
<p>Это известная проблема системы виртуализации <a class="reference internal" href="virtualization.html#virtualbox"><span class="std std-ref">VirtualBox</span></a>, использующей out-of-tree модули ядра, но может также проявляться и у пользователей проприетарных <a class="reference internal" href="hardware.html#broadcom-drivers"><span class="std std-ref">драйверов Broadcom</span></a>.</p>
<p>Для исправления необходимо <strong>после каждого обновления ядра</strong> выполнять пересборку initrd:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dracut -f
</pre></div>
</div>
<p>Для вступления изменений в силу требуется перезагрузка:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo systemctl reboot
</pre></div>
</div>
</section>
<section id="kwallet">
<span id="kwallet-pam"></span><span id="index-22"></span><h2>Как настроить автоматическую разблокировку связки ключей KWallet при входе в систему?<a class="headerlink" href="#kwallet" title="Permalink to this heading">¶</a></h2>
<p>KDE предоставляет особый PAM модуль для автоматической разблокировки связки паролей KDE Wallet при входе в систему. Установим его:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install pam-kwallet
</pre></div>
</div>
<p>Запустим менеджер KWallet (<strong>Параметры системы</strong> – группа <strong>Предпочтения пользователя</strong> – <strong>Учётная запись</strong> – страница <strong>Бумажник</strong> – кнопка <strong>Запустить управление бумажниками</strong>), нажмём кнопку <strong>Сменить пароль</strong> и укажем тот же самый пароль, который используется для текущей учётной записи.</p>
<p>Сохраняем изменения и повторно входим в систему.</p>
</section>
<section id="xdg-reallocate">
<span id="index-23"></span><span id="id13"></span><h2>Как переместить стандартные каталоги для документов, загрузок и т.д.?<a class="headerlink" href="#xdg-reallocate" title="Permalink to this heading">¶</a></h2>
<p>Откроем файл <code class="docutils literal notranslate"><span class="pre">~/.config/user-dirs.dirs</span></code> в любом текстовом редакторе и внесём свои правки.</p>
<p>Стандартные настройки:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">XDG_DESKTOP_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Рабочий стол&quot;</span>
<span class="na">XDG_DOCUMENTS_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Документы&quot;</span>
<span class="na">XDG_DOWNLOAD_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Загрузки&quot;</span>
<span class="na">XDG_MUSIC_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Музыка&quot;</span>
<span class="na">XDG_PICTURES_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Изображения&quot;</span>
<span class="na">XDG_PUBLICSHARE_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Общедоступные&quot;</span>
<span class="na">XDG_TEMPLATES_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Шаблоны&quot;</span>
<span class="na">XDG_VIDEOS_DIR</span><span class="o">=</span><span class="s">&quot;$HOME/Видео&quot;</span>
</pre></div>
</div>
<p>Применим изменения:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>xdg-user-dirs-update
</pre></div>
</div>
<p>Убедитесь, что перед применением изменений данные каталоги существуют, иначе будет выполнен сброс на стандартное значение.</p>
</section>
<section id="hidpi-sddm">
<span id="sddm-hidpi"></span><span id="index-24"></span><h2>У меня HiDPI дисплей и в SDDM всё отображается очень мелко. Как настроить?<a class="headerlink" href="#hidpi-sddm" title="Permalink to this heading">¶</a></h2>
<p>Откроем файл <code class="docutils literal notranslate"><span class="pre">/etc/sddm.conf</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudoedit /etc/sddm.conf
</pre></div>
</div>
<p>Добавим в самый конец следующие строки:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Wayland]</span>
<span class="na">EnableHiDPI</span><span class="o">=</span><span class="s">true</span>

<span class="k">[X11]</span>
<span class="na">EnableHiDPI</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>Сохраним изменения и перезапустим систему.</p>
</section>
<section id="sddm-avatars">
<span id="index-25"></span><span id="id14"></span><h2>Как отключить отображение пользовательских аватаров в SDDM?<a class="headerlink" href="#sddm-avatars" title="Permalink to this heading">¶</a></h2>
<p>Пользовательские аватары представляют собой файл <code class="docutils literal notranslate"><span class="pre">~/.face.icon</span></code>. При запуске SDDM пытается прочитать его для каждого существующего пользователя.</p>
<p>Для отключения данной функции откроем файл <code class="docutils literal notranslate"><span class="pre">/etc/sddm.conf</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudoedit /etc/sddm.conf
</pre></div>
</div>
<p>Добавим в самый конец следующие строки:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Theme]</span>
<span class="na">EnableAvatars</span><span class="o">=</span><span class="s">false</span>
</pre></div>
</div>
<p>Сохраним изменения и перезапустим систему.</p>
</section>
<section id="power-usage">
<span id="index-26"></span><span id="id15"></span><h2>Как узнать какие процессы больше всего разряжают аккумулятор ноутбука?<a class="headerlink" href="#power-usage" title="Permalink to this heading">¶</a></h2>
<p>Установим утилиту <strong>powertop</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install powertop
</pre></div>
</div>
<p>Запустим её с правами суперпользователя:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo powertop
</pre></div>
</div>
<p>Процессы, которые больше всех влияют на скорость разряда аккумуляторных батарей, будут отображаться в верхней части.</p>
</section>
<section id="system-info">
<span id="index-27"></span><span id="id16"></span><h2>Как собрать информацию о системе?<a class="headerlink" href="#system-info" title="Permalink to this heading">¶</a></h2>
<p>Установим утилиту <strong>inxi</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install inxi
</pre></div>
</div>
<p>Соберём информацию о системе и выгрузим на fpaste:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>inxi -F | fpaste
</pre></div>
</div>
<p>На выходе будет сгенерирована уникальная ссылка, которую можно передать на <a class="reference internal" href="generic-info.html#get-help"><span class="std std-ref">форум, в чат</span></a> и т.д.</p>
</section>
<section id="l2tp">
<span id="nm-l2tp"></span><span id="index-28"></span><h2>Мой провайдер использует L2TP. Как мне добавить его поддержку?<a class="headerlink" href="#l2tp" title="Permalink to this heading">¶</a></h2>
<p>Плагин L2TP для Network Manager должен присутствовать в Workstation и всех spin live образах по умолчанию, но если его по какой-то причине нет (например, была выборана минимальная установка netinstall), то добавить его можно самостоятельно.</p>
<p>Для Gnome/XFCE и других, основанных на GTK:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install NetworkManager-l2tp-gnome
</pre></div>
</div>
<p>Для KDE:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install plasma-nm-l2tp
</pre></div>
</div>
<p>После установки необходимо запустить модуль настройки Network Manager (графический или консольный), добавить новое VPN подключение с типом L2TP и указать настройки, выданные провайдером.</p>
<p>Однако следует помнить, что у некоторых провайдеров используется L2TP со специальными патчами Microsoft (т.н. win реализация), что может вызывать нестабильность и сбои при подключении. В таком случае рекомендуется приобрести любой недорогой роутер с поддержкой L2TP (можно б/у) и использовать его в качестве клиента для подключения к сети провайдера.</p>
</section>
<section id="wi-fi">
<span id="nm-wificon"></span><span id="index-29"></span><h2>Как подключиться к Wi-Fi из консоли?<a class="headerlink" href="#wi-fi" title="Permalink to this heading">¶</a></h2>
<p>Если ранее уже были созданы Wi-Fi подключения, то выведем их список:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>nmcli connection | grep wifi
</pre></div>
</div>
<p>Теперь запустим выбранное соединение:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>nmcli connection up Connection_Name
</pre></div>
</div>
</section>
<section id="nm-wificli">
<span id="index-30"></span><span id="id17"></span><h2>Как подключиться к Wi-Fi из консоли при отсутствии соединений?<a class="headerlink" href="#nm-wificli" title="Permalink to this heading">¶</a></h2>
<p>Если <a class="reference internal" href="#nm-wificon"><span class="std std-ref">готовых соединений</span></a> для Wi-Fi нет, но известны SSID и пароль, то можно осуществить подключение напрямую:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>nmcli device wifi connect MY_NETWORK password XXXXXXXXXX
</pre></div>
</div>
<p>Здесь <strong>MY_NETWORK</strong> – название SSID точки доступа, к которой мы планируем подключиться, а <strong>XXXXXXXXXX</strong> – её пароль.</p>
</section>
<section id="editor-selection">
<span id="index-31"></span><span id="id18"></span><h2>Как выбрать предпочитаемый текстовый редактор в консольном режиме?<a class="headerlink" href="#editor-selection" title="Permalink to this heading">¶</a></h2>
<p>Для выбора предпочитаемого текстового редактора следует применять <a class="reference internal" href="development.html#env-set"><span class="std std-ref">переменные окружения</span></a>, прописав их в личном файле <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>export VISUAL=vim
export EDITOR=vim
export SUDO_EDITOR=vim
</pre></div>
</div>
<p><strong>VISUAL</strong> – предпочитаемый текстовый редактор с графическим интерфейсом пользователя, <strong>EDITOR</strong> – текстовый, а <strong>SUDO_EDITOR</strong> используется в <a class="reference internal" href="security.html#sudo-edit-config"><span class="std std-ref">sudoedit</span></a>.</p>
</section>
<section id="git">
<span id="editor-git"></span><span id="index-32"></span><h2>Как выбрать предпочитаемый текстовый редактор для Git?<a class="headerlink" href="#git" title="Permalink to this heading">¶</a></h2>
<p>Хотя Git подчиняется настройкам <a class="reference internal" href="#editor-selection"><span class="std std-ref">редактора по умолчанию</span></a>, допустимо его указать явно в файле конфигурации:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>git config --global core.editor vim
</pre></div>
</div>
</section>
<section id="iso-fedora">
<span id="iso-mount"></span><span id="index-33"></span><h2>Как смонтировать ISO образ в Fedora?<a class="headerlink" href="#iso-fedora" title="Permalink to this heading">¶</a></h2>
<p>Создадим точку монтирования:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo mkdir /mnt/iso
</pre></div>
</div>
<p>Смонтируем файл образа:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo mount -o loop /path/to/image.iso /mnt/iso
</pre></div>
</div>
<p>По окончании произведём размонтирование:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo umount /mnt/iso
</pre></div>
</div>
</section>
<section id="cd-dvd-iso">
<span id="iso-create"></span><span id="index-34"></span><h2>Как считать содержимое CD/DVD диска в файл ISO образа?<a class="headerlink" href="#cd-dvd-iso" title="Permalink to this heading">¶</a></h2>
<p>Для этого можно воспользоваться утилитой <strong>dd</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dd if=/dev/sr0 of=/path/to/image.iso bs=4M status=progress
</pre></div>
</div>
<p>Здесь <strong>/dev/sr0</strong> имя устройства привода для чтения оптических дисков, а <strong>/path/to/image.iso</strong> – файл образа, в котором будет сохранён результат.</p>
</section>
<section id="dd-mount">
<span id="index-35"></span><span id="id19"></span><h2>Как смонтировать посекторный образ раздела?<a class="headerlink" href="#dd-mount" title="Permalink to this heading">¶</a></h2>
<p>Монтирование raw образа раздела, созданного посредством утилиты <strong>dd</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo mount -o ro,loop /path/to/image.raw /mnt/dd-image
</pre></div>
</div>
<p>Размонтирование:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo umount /mnt/dd-image
</pre></div>
</div>
<p>Здесь <strong>/path/to/image.iso</strong> – файл образа на диске.</p>
</section>
<section id="dd-fullraw">
<span id="index-36"></span><span id="id20"></span><h2>Как смонтировать посекторный образ диска целиком?<a class="headerlink" href="#dd-fullraw" title="Permalink to this heading">¶</a></h2>
<p>Смонтировать образ диска целиком напрямую не получится, поэтому сначала придётся определить смещения разделов относительно его начала.</p>
<p>Запустим утилиту <strong>fdisk</strong> и попытаемся найти внутри образа разделы:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo fdisk -l /path/to/image.raw
</pre></div>
</div>
<p>Из вывода нам необходимо узнать значение <strong>Sector size</strong>, а также <strong>Start</strong> всех необходимых разделов.</p>
<p>Вычислим смещение относительно начала образа для каждого раздела по формуле <strong>Start * Sector size</strong>. К примеру если у первого Start равно 2048, а Sector size диска 512, то получим 2048 * 512 == 1048576.</p>
<p>Произведём монтирование раздела по смещению 1048576:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo mount -o ro,loop,offset=1048576 /path/to/image.raw /mnt/dd-image
</pre></div>
</div>
<p>Повторим операции для всех остальных разделов, обнаруженных внутри образа. По окончании работы выполним размонтирование:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo umount /mnt/dd-image
</pre></div>
</div>
<p>Здесь <strong>/path/to/image.iso</strong> – файл образа на диске.</p>
</section>
<section id="set-timezone">
<span id="index-37"></span><span id="id21"></span><h2>Как изменить часовой пояс?<a class="headerlink" href="#set-timezone" title="Permalink to this heading">¶</a></h2>
<p>Изменить часовой пояс можно посредством утилиты <strong>timedatectl</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo timedatectl set-timezone Europe/Moscow
</pre></div>
</div>
</section>
<section id="set-keyboard-gui">
<span id="index-38"></span><span id="id22"></span><h2>Как изменить список доступных раскладок клавиатуры и настроить их переключение в графическом режиме?<a class="headerlink" href="#set-keyboard-gui" title="Permalink to this heading">¶</a></h2>
<p>Настройка переключения по <strong>Alt + Shift</strong>, раскладки EN и RU:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-x11-keymap us,ru pc105 &quot;&quot; grp:alt_shift_toggle
</pre></div>
</div>
<p>Настройка переключения по <strong>Ctrl + Shift</strong>, раскладки EN и RU:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-x11-keymap us,ru pc105 &quot;&quot; grp:ctrl_shift_toggle
</pre></div>
</div>
</section>
<section id="set-keyboard-console">
<span id="index-39"></span><span id="id23"></span><h2>Как изменить список доступных раскладок клавиатуры и настроить их переключение в текстовом режиме?<a class="headerlink" href="#set-keyboard-console" title="Permalink to this heading">¶</a></h2>
<p>Установка русской раскладки и режимов переключения по умолчанию (<strong>Alt + Shift</strong>):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-keymap ru
</pre></div>
</div>
<p>Установка русской раскладки и режима переключения <strong>Alt + Shift</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-keymap ruwin_alt_sh-UTF-8
</pre></div>
</div>
<p>Установка русской раскладки и режима переключения <strong>Ctrl + Shift</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-keymap ruwin_ct_sh-UTF-8
</pre></div>
</div>
</section>
<section id="gtk-kde">
<span id="gtk-plasma-style"></span><span id="index-40"></span><h2>Можно ли заставить GTK приложения выглядеть нативно в KDE?<a class="headerlink" href="#gtk-kde" title="Permalink to this heading">¶</a></h2>
<p>Установим пакет с темой Breeze для GTK2 и GTK3:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install breeze-gtk
</pre></div>
</div>
<p>Зайдём в <strong>Параметры системы</strong> – <strong>Внешний вид</strong> – <strong>Оформление приложений</strong> – <strong>Стиль программ GNOME (GTK+)</strong>.</p>
<p>Выберем <strong>Breeze</strong> (при использовании тёмной темы в KDE – <strong>Breeze Dark</strong>) в качестве темы GTK2 и GTK3, а также укажем шрифт, который будет использовать при отображении диалоговых окон.</p>
<p>Также установим <strong>Breeze</strong> для курсоров мыши и темы значков. Применим изменения и перезапустим все GTK приложения.</p>
</section>
<section id="bash-hotkeys">
<span id="index-41"></span><span id="id24"></span><h2>Какие полезные комбинации клавиш существуют при наборе команд в терминале?<a class="headerlink" href="#bash-hotkeys" title="Permalink to this heading">¶</a></h2>
<p>Существуют следующие комбинации:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Ctrl + A</strong> – перемещает текстовый курсор на начало строки (аналогична <strong>Home</strong>);</p></li>
<li><p><strong>Ctrl + E</strong> – перемещает текстовый курсор в конец строки (аналогична <strong>End</strong>);</p></li>
<li><p><strong>Ctrl + B</strong> – перемещает текстовый курсор на один символ влево (аналогична стрелке влево);</p></li>
<li><p><strong>Ctrl + F</strong> – перемещает текстовый курсор на один символ вправо (аналогична стрелке вправо);</p></li>
<li><p><strong>Alt + B</strong> – перемещает текстовый курсор на одно слово влево;</p></li>
<li><p><strong>Alt + F</strong> – перемещает текстовый курсор на одно слово вправо;</p></li>
<li><p><strong>Ctrl + W</strong> – удаляет последнее слово в строке;</p></li>
<li><p><strong>Ctrl + U</strong> – удаляет всё из строки ввода;</p></li>
<li><p><strong>Ctrl + K</strong> – удаляет всё, что находится правее текущей позиции текстового курсора;</p></li>
<li><p><strong>Ctrl + Y</strong> – отменяет последнюю операцию удаления;</p></li>
<li><p><strong>Ctrl + _</strong> – отменяет любую последнюю операцию.</p></li>
</ul>
</div></blockquote>
</section>
<section id="kde-link-mime">
<span id="index-42"></span><span id="id25"></span><h2>При нажатии по любой гиперссылке она открывается не в браузере, а соответствующем приложении. Как исправить?<a class="headerlink" href="#kde-link-mime" title="Permalink to this heading">¶</a></h2>
<p>Согласно настроек по умолчанию, при нажатии на любую ссылку вне браузера (например, в мессенджере) компонент KDE KIO попытается определить mime-тип файла, загружаемого по ней, и открыть её в ассоциированном с приложении. Например, если это изображение JPEG, то оно будет загружено в Gwenview.</p>
<p>Отключить данную функцию можно в <strong>Параметры системы</strong> – <strong>Предпочтения пользователя</strong> – <strong>Приложения</strong> – <strong>Приложения по умолчанию</strong> – раздел <strong>Браузер</strong> – пункт <strong>Открывать адреса http и https</strong> – <strong>В следующем приложении</strong> – <strong>Firefox</strong>.</p>
</section>
<section id="file-types">
<span id="index-43"></span><span id="id26"></span><h2>Как файловые менеджеры определяют типы файлов?<a class="headerlink" href="#file-types" title="Permalink to this heading">¶</a></h2>
<p>Если в ОС Microsoft Windows тип файлов определяется исключительно по их расширению, то в GNU/Linux для этого используется <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_MIME-%D1%82%D0%B8%D0%BF%D0%BE%D0%B2">mime-типы</a>.</p>
<p>В системе ведётся база соответствия mime-типов установленным приложениям, соответствующая <a class="reference external" href="https://specifications.freedesktop.org/mime-apps-spec/mime-apps-spec-latest.html">стандарту XDG Free Desktop</a>.</p>
<p>Для получения mime-типа конкретного файла можно использовать утилиту <strong>file</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>file foo-bar.txt
</pre></div>
</div>
<p>Для открытия файла в ассоциированном с его mime-типом приложении применяется утилита <strong>xdg-open</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>xdg-open foo-bar.txt
</pre></div>
</div>
</section>
<section id="system-locale">
<span id="index-44"></span><span id="id27"></span><h2>Как изменить язык (локализацию) системы?<a class="headerlink" href="#system-locale" title="Permalink to this heading">¶</a></h2>
<p>Получим список доступных локалей:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>localectl list-locales
</pre></div>
</div>
<p>Установим английскую локаль для системы:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-locale LANG=en_US.UTF-8
</pre></div>
</div>
<p>Установим русскую локаль для системы:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo localectl set-locale LANG=ru_RU.UTF-8
</pre></div>
</div>
</section>
<section id="application-locale">
<span id="index-45"></span><span id="id28"></span><h2>Как запустить приложение с другой локалью?<a class="headerlink" href="#application-locale" title="Permalink to this heading">¶</a></h2>
<p>Для запуска приложения с другой локалью необходимо передать ему новое значение в <a class="reference internal" href="development.html#env-set"><span class="std std-ref">переменной окружения</span></a> <strong>LANG</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>LANG=en_US.UTF-8 foo-bar
</pre></div>
</div>
</section>
<section id="application-timezone">
<span id="index-46"></span><span id="id29"></span><h2>Как запустить приложение с другим часовым поясом?<a class="headerlink" href="#application-timezone" title="Permalink to this heading">¶</a></h2>
<p>Для запуска приложения с другим часовым поясом необходимо передать ему новое значение в <a class="reference internal" href="development.html#env-set"><span class="std std-ref">переменной окружения</span></a> <strong>TZ</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>TZ=CET foo-bar
</pre></div>
</div>
<p>Здесь вместо <strong>CET</strong> следует указать название часового пояса.</p>
</section>
<section id="x11-wayland">
<span id="session-type"></span><span id="index-47"></span><h2>Как определить какой тип сессии используется: X11 или Wayland?<a class="headerlink" href="#x11-wayland" title="Permalink to this heading">¶</a></h2>
<p>Для определения типа текущей сессии, необходимо получить значение глобальной <a class="reference internal" href="development.html#env-set"><span class="std std-ref">переменной окружения</span></a> <strong>XDG_SESSION_TYPE</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>echo $XDG_SESSION_TYPE
</pre></div>
</div>
</section>
<section id="neofetch">
<span id="index-48"></span><span id="id30"></span><h2>Как вывести в консоль краткую информацию об установленной системе?<a class="headerlink" href="#neofetch" title="Permalink to this heading">¶</a></h2>
<p>Установим neofetch:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install neofetch
</pre></div>
</div>
<p>Запустим и выведем информацию о системе в консоль:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>neofetch
</pre></div>
</div>
</section>
<section id="plymouth-disable">
<span id="index-49"></span><span id="id31"></span><h2>Как отключить анимированную каплю при загрузке системы?<a class="headerlink" href="#plymouth-disable" title="Permalink to this heading">¶</a></h2>
<p>Для отключения анимации загрузки (plymouth boot screen) необходимо и достаточно <a class="reference internal" href="administration.html#kernelpm-perm"><span class="std std-ref">добавить параметры ядра</span></a> <code class="docutils literal notranslate"><span class="pre">rd.plymouth=0</span> <span class="pre">plymouth.enable=0</span></code>, после чего <a class="reference internal" href="#grub-rebuild"><span class="std std-ref">пересобрать конфиг Grub 2</span></a>.</p>
</section>
<section id="plymouth-themes">
<span id="index-50"></span><span id="id32"></span><h2>Как изменить тему экрана, отображающегося при загрузке системы?<a class="headerlink" href="#plymouth-themes" title="Permalink to this heading">¶</a></h2>
<p>Выведем список установленных тем Plymouth boot screen:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>plymouth-set-default-theme --list
</pre></div>
</div>
<p>Определим текущую:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>plymouth-set-default-theme
</pre></div>
</div>
<p>Установим, например, <strong>charge</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo plymouth-set-default-theme charge -R
</pre></div>
</div>
<p>Параметр <code class="docutils literal notranslate"><span class="pre">-R</span></code> включает автоматическую <a class="reference internal" href="#initrd-rebuild"><span class="std std-ref">пересборку initrd</span></a> ядра.</p>
</section>
<section id="plymouth-nologo">
<span id="index-51"></span><span id="id33"></span><h2>Как отключить вывод логотипа производителя устройства при загрузке системы?<a class="headerlink" href="#plymouth-nologo" title="Permalink to this heading">¶</a></h2>
<p>Начиная с Fedora 30, для Plymouth по умолчанию устанавливается тема <strong>bgrt</strong>, поддерживающая вывод логотипа производителя устройства, если система загружается в <a class="reference internal" href="installation.html#uefi-boot"><span class="std std-ref">UEFI режиме</span></a>.</p>
<p>Чтобы убрать его, <a class="reference internal" href="#plymouth-themes"><span class="std std-ref">сменим тему</span></a> загрузочного экрана, например на <strong>charge</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo plymouth-set-default-theme charge -R
</pre></div>
</div>
<p>Изменения вступят в силу при следующей загрузке системы. Логотип больше отображаться не будет.</p>
</section>
<section id="ntfs">
<span id="ntfs-readonly"></span><span id="index-52"></span><h2>Все NTFS тома монтируются в режиме только для чтения. Как исправить?<a class="headerlink" href="#ntfs" title="Permalink to this heading">¶</a></h2>
<p>Некорректное размонтирование разделов – это особенность работы режима гибридного завершения работы (<a class="reference external" href="https://docs.microsoft.com/en-us/windows-hardware/drivers/kernel/distinguishing-fast-startup-from-wake-from-hibernation">hybrid shutdown</a>) в ОС Microsoft Windows, при котором система не завершает свою работу, а вместо этого всегда переходит в режим глубокого сна.</p>
<p>Данный режим несовместим с другими операционными системами, в т.ч. GNU/Linux, поэтому должен быть отключён в обязательном порядке при использовании <a class="reference internal" href="installation.html#dual-boot"><span class="std std-ref">dual-boot</span></a>.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>запустим командную строку с правами администратора, затем выполним <code class="docutils literal notranslate"><span class="pre">powercfg</span> <span class="pre">-h</span> <span class="pre">off</span></code>;</p></li>
<li><p>запретим использование режима быстрой загрузки (fast boot) в настройках UEFI BIOS.</p></li>
</ol>
</div></blockquote>
</section>
<section id="icon-override">
<span id="index-53"></span><span id="id34"></span><h2>Как изменить ярлык приложения из главного меню?<a class="headerlink" href="#icon-override" title="Permalink to this heading">¶</a></h2>
<p>Значки приложений главного меню расположены в каталоге <code class="docutils literal notranslate"><span class="pre">/usr/share/applications</span></code>, однако редактировать их там не следует ибо при следующем <a class="reference internal" href="package-manager.html#dnf-update"><span class="std std-ref">обновлении</span></a> все изменения будут потеряны.</p>
<p>Вместо этого создадим локальное переопределение – скопируем desktop-файл в <code class="docutils literal notranslate"><span class="pre">~/.local/share/applications</span></code> и внесём необходимые правки.</p>
<p>Создадим каталог назначения если он отсутствует:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mkdir -p ~/.local/share/applications
</pre></div>
</div>
<p>Скопируем ярлык <strong>foo-bar.desktop</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cp /usr/share/applications/foo-bar.desktop ~/.local/share/applications/
</pre></div>
</div>
<p>Внесём свои правки.</p>
<p>Кэш <a class="reference internal" href="using-applications.html#kde-icons-refresh"><span class="std std-ref">значков главного меню</span></a> обновится автоматически, т.к. все популярные среды рабочего стола отслеживают изменения в данном каталоге.</p>
</section>
<section id="gnome">
<span id="set-keyboard-gnome"></span><span id="index-54"></span><h2>Как изменить сочетание клавиш для переключения языка ввода в Gnome?<a class="headerlink" href="#gnome" title="Permalink to this heading">¶</a></h2>
<p>Рассмотрим два способа изменения сочетания клавиш для переключения между языками: консоль и GUI.</p>
<section id="id35">
<h3>Консоль:<a class="headerlink" href="#id35" title="Permalink to this heading">¶</a></h3>
<p>Определим, какой вариант установлен:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gsettings get org.gnome.desktop.wm.keybindings switch-input-source
</pre></div>
</div>
<p>Установим новое сочетание для переключения раскладок:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gsettings set org.gnome.desktop.wm.keybindings switch-input-source &quot;[&#39;&lt;Shift&gt;Alt_L&#39;]&quot;
</pre></div>
</div>
<p>Возможные варианты сочетаний клавиш (допустимо несколько вариантов, через запятую):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&#39;&lt;Alt&gt;Shift_L&#39;, &#39;&lt;Shift&gt;Alt_L&#39;, &#39;&lt;Shift&gt;Alt_R&#39;, &#39;&lt;Alt&gt;Shift_R&#39;
&#39;&lt;Ctrl&gt;Shift_L&#39;, &#39;&lt;Shift&gt;Control_L&#39;, &#39;&lt;Shift&gt;Control_R&#39;, &#39;&lt;Ctrl&gt;Shift_R&#39;
&#39;Caps_Lock&#39;
</pre></div>
</div>
</section>
<section id="gui">
<h3>GUI:<a class="headerlink" href="#gui" title="Permalink to this heading">¶</a></h3>
<p>Установим пакет <strong>dconf-editor</strong>, если он не установлен:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf install dconf-editor
</pre></div>
</div>
<p>Запустим данное приложение:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dconf-editor
</pre></div>
</div>
<p>В ветке <code class="docutils literal notranslate"><span class="pre">org.gnome.desktop.wm.keybindings</span></code> установим параметру <code class="docutils literal notranslate"><span class="pre">switch-input-source</span></code> желаемое значение.</p>
<p>Обязательно убедимся в наличии квадратных скобок. Конфигурация по-умолчанию – <code class="docutils literal notranslate"><span class="pre">['&lt;Super&gt;space',</span> <span class="pre">'XF86Keyboard']</span></code>.</p>
</section>
</section>
<section id="x11">
<span id="x11-session"></span><span id="index-55"></span><h2>Как переключить рабочую среду на использование X11?<a class="headerlink" href="#x11" title="Permalink to this heading">¶</a></h2>
<p>Настройки для различных рабочих сред:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#x11-gnome"><span class="std std-ref">GNOME</span></a>;</p></li>
<li><p><a class="reference internal" href="#x11-plasma"><span class="std std-ref">KDE</span></a>.</p></li>
</ul>
</div></blockquote>
</section>
<section id="gnome-x11">
<span id="x11-gnome"></span><span id="index-56"></span><h2>Как переключить GNOME на использование X11?<a class="headerlink" href="#gnome-x11" title="Permalink to this heading">¶</a></h2>
<p>Откроем файл конфигурации <code class="docutils literal notranslate"><span class="pre">/etc/gdm/custom.conf</span></code> в текстовом редакторе:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudoedit /etc/gdm/custom.conf
</pre></div>
</div>
<p>Внесём изменения в секцию <strong>daemon</strong>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[daemon]</span>
<span class="na">WaylandEnable</span><span class="o">=</span><span class="s">false</span>
<span class="na">DefaultSession</span><span class="o">=</span><span class="s">gnome-xorg.desktop</span>
</pre></div>
</div>
<p>Сохраним изменения и перезагрузим устройство:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>systemctl reboot
</pre></div>
</div>
</section>
<section id="kde-x11">
<span id="x11-plasma"></span><span id="index-57"></span><h2>Как переключить KDE на использование X11?<a class="headerlink" href="#kde-x11" title="Permalink to this heading">¶</a></h2>
<p>Произведём замену пакета <strong>sddm-wayland-plasma</strong> на <strong>sddm-x11</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dnf swap sddm-wayland-plasma sddm-x11 --allowerasing
</pre></div>
</div>
<p>Перезагрузим устройство для вступления изменений в силу:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>systemctl reboot
</pre></div>
</div>
<p>При следующем входе в меню выбора доступных сеансов выберем <strong>Plasma (X11)</strong>.</p>
</section>
<section id="font-identify">
<span id="index-58"></span><span id="id36"></span><h2>Как определить, какой шрифт будет использован для указанной гарнитуры?<a class="headerlink" href="#font-identify" title="Permalink to this heading">¶</a></h2>
<p>Воспользуемся утилитой <strong>fc-match</strong> из комплекта поставки FreeType для определения используемого шрифта и соответствующего ему файла на диске для запрошенной гарнитуры:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fc-match &#39;sans-serif&#39;
</pre></div>
</div>
</section>
<section id="font-replace">
<span id="index-59"></span><span id="id37"></span><h2>Как заменить один шрифт другим на системном уровне?<a class="headerlink" href="#font-replace" title="Permalink to this heading">¶</a></h2>
<p>Заменим шрифты <strong>Foo Bar</strong> и <strong>Foo Bar Emoji</strong> на <em>Noto</em>.</p>
<p>Создадим каталог для пользовательских настроек fontconfig:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mkdir -p ~/.config/fontconfig/fonts.d
</pre></div>
</div>
<p>Добавим новый файл конфигурации и сразу же установим правильный контекст безопасности SELinux:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>touch ~/.config/fontconfig/fonts.d/30-replace-foo.conf
restorecon -Rv ~/.config/fontconfig
</pre></div>
</div>
<p>Вставим в <code class="docutils literal notranslate"><span class="pre">~/.config/fontconfig/fonts.d/30-replace-foo.conf</span></code> следующий код:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE fontconfig SYSTEM &quot;urn:fontconfig:fonts.dtd&quot;&gt;</span>
<span class="nt">&lt;fontconfig&gt;</span>
<span class="nt">&lt;alias&gt;</span>
<span class="w">    </span><span class="nt">&lt;family&gt;</span>Foo<span class="w"> </span>Bar<span class="nt">&lt;/family&gt;</span>
<span class="w">    </span><span class="nt">&lt;prefer&gt;</span>
<span class="w">        </span><span class="nt">&lt;family&gt;</span>Noto<span class="w"> </span>Sans<span class="nt">&lt;/family&gt;</span>
<span class="w">    </span><span class="nt">&lt;/prefer&gt;</span>
<span class="nt">&lt;/alias&gt;</span>
<span class="nt">&lt;alias&gt;</span>
<span class="w">    </span><span class="nt">&lt;family&gt;</span>Foo<span class="w"> </span>Bar<span class="w"> </span>Emoji<span class="nt">&lt;/family&gt;</span>
<span class="w">    </span><span class="nt">&lt;prefer&gt;</span>
<span class="w">        </span><span class="nt">&lt;family&gt;</span>Noto<span class="w"> </span>Color<span class="w"> </span>Emoji<span class="nt">&lt;/family&gt;</span>
<span class="w">    </span><span class="nt">&lt;/prefer&gt;</span>
<span class="nt">&lt;/alias&gt;</span>
<span class="nt">&lt;/fontconfig&gt;</span>
</pre></div>
</div>
<p>Очистим кэши fontconfig:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fc-cache -fr
</pre></div>
</div>
<p>Убедимся, что для шрифта <strong>Foo Bar</strong> теперь <a class="reference internal" href="#font-identify"><span class="std std-ref">используется</span></a> <strong>Noto Sans Regular</strong>.</p>
<p>Если всё сделано верно, перезапустим все приложения, либо выполним новый вход в систему для вступления изменений в силу.</p>
</section>
<section id="home-permissions">
<span id="index-60"></span><span id="id38"></span><h2>Как исправить права доступа для объектов в домашнем каталоге?<a class="headerlink" href="#home-permissions" title="Permalink to this heading">¶</a></h2>
<p>При запуске приложений с правами суперпользователя в домашнем каталоге могут появляться объекты, созданные root. Они способны вызывать проблемы при работе приложений в стандартном режиме из-за отсутствия к ним прав доступа на запись.</p>
<p>Выявим файлы и каталоги, не принадлежащие текущему пользователю, при помощи утилиты <strong>find</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>find ~ ! -user $(whoami) -print
</pre></div>
</div>
<p>Если таковые были найдены, автоматически исправим владельца и группу для них:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo find ~ ! -user $(whoami) -exec chown $(whoami):$(whoami) &quot;{}&quot; \;
</pre></div>
</div>
</section>
<section id="initrd-add-module">
<span id="index-61"></span><span id="id39"></span><h2>Как добавить модуль в initrd?<a class="headerlink" href="#initrd-add-module" title="Permalink to this heading">¶</a></h2>
<p>Создадим новый файл конфигурации <strong>foo-bar.conf</strong> в каталоге <code class="docutils literal notranslate"><span class="pre">/etc/dracut.conf.d/</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>echo &#39;add_dracutmodules+=&quot; foo-bar &quot;&#39; | sudo tee /etc/dracut.conf.d/foo-bar.conf
</pre></div>
</div>
<p>Здесь <strong>foo-bar</strong> – название модуля ядра, который требуется включить. Пробелы до и после его имени в <em>add_dracutmodules</em> обязательны.</p>
<p>Осуществим <a class="reference internal" href="#initrd-rebuild"><span class="std std-ref">пересборку initrd</span></a>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sudo dracut -f
</pre></div>
</div>
<p>Изменения вступят в силу при следующей загрузке системы.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Искать" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Навигация</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="generic-info.html">Основная информация</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Установка системы</a></li>
<li class="toctree-l1"><a class="reference internal" href="package-manager.html">Пакетный менеджер и установка пакетов</a></li>
<li class="toctree-l1"><a class="reference internal" href="administration.html">Системное администрирование</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Сетевое администрирование</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtualization.html">Виртуализация</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Безопасность</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Работа в системе</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#autocompletion">У меня в системе не работает автодополнение команд. Как исправить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dnf-completion">Не работает автодополнение имён пакетов. Как исправить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backup-system">Можно ли делать резервную копию корневого раздела работающей системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backup-home">Как сделать копию домашнего каталога?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backup-create">Как лучше всего делать резервную копию корневого раздела?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initrd">Как мне пересобрать образ initrd?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub-2">Как мне переустановить Grub 2?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub-rebuild">Как пересобрать конфиг Grub 2?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bls">Что такое BLS и почему он используется по умолчанию?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub-2-bls">Как перейти с классического Grub 2 на BLS?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bls-grub-2">Как вернуться с BLS на классический Grub 2?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#slow-shutdown">Система медленно завершает работу. Можно ли это ускорить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#remove-old-files">Как удалить любые файлы, старше 2 суток из указанного каталога?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kde-gtk">Я использую KDE. Как мне настроить скорость двойного клика в GTK приложениях?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#block-screen">Возможно ли заблокировать экран из командной строки?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bash">Можно ли изменить приветствие Bash по умолчанию?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell">Можно ли из shell скрипта менять название терминала?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-ntp">Как настроить синхронизацию времени?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#systemd-analyze">Как узнать какой сервис замедляет загрузку системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gnome-qt">У меня в Gnome не работает масштабирование окон Qt приложений. Что делать?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sddm">Как отключить виртуальную клавиатуру в SDDM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#failed-to-start-load-kernel-modules">При загрузке системы появляется ошибка Failed to start Load Kernel Modules. Как исправить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kwallet">Как настроить автоматическую разблокировку связки ключей KWallet при входе в систему?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xdg-reallocate">Как переместить стандартные каталоги для документов, загрузок и т.д.?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hidpi-sddm">У меня HiDPI дисплей и в SDDM всё отображается очень мелко. Как настроить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sddm-avatars">Как отключить отображение пользовательских аватаров в SDDM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#power-usage">Как узнать какие процессы больше всего разряжают аккумулятор ноутбука?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-info">Как собрать информацию о системе?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#l2tp">Мой провайдер использует L2TP. Как мне добавить его поддержку?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wi-fi">Как подключиться к Wi-Fi из консоли?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nm-wificli">Как подключиться к Wi-Fi из консоли при отсутствии соединений?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#editor-selection">Как выбрать предпочитаемый текстовый редактор в консольном режиме?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git">Как выбрать предпочитаемый текстовый редактор для Git?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iso-fedora">Как смонтировать ISO образ в Fedora?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cd-dvd-iso">Как считать содержимое CD/DVD диска в файл ISO образа?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dd-mount">Как смонтировать посекторный образ раздела?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dd-fullraw">Как смонтировать посекторный образ диска целиком?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-timezone">Как изменить часовой пояс?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-keyboard-gui">Как изменить список доступных раскладок клавиатуры и настроить их переключение в графическом режиме?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-keyboard-console">Как изменить список доступных раскладок клавиатуры и настроить их переключение в текстовом режиме?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gtk-kde">Можно ли заставить GTK приложения выглядеть нативно в KDE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bash-hotkeys">Какие полезные комбинации клавиш существуют при наборе команд в терминале?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kde-link-mime">При нажатии по любой гиперссылке она открывается не в браузере, а соответствующем приложении. Как исправить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-types">Как файловые менеджеры определяют типы файлов?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-locale">Как изменить язык (локализацию) системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-locale">Как запустить приложение с другой локалью?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-timezone">Как запустить приложение с другим часовым поясом?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x11-wayland">Как определить какой тип сессии используется: X11 или Wayland?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#neofetch">Как вывести в консоль краткую информацию об установленной системе?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plymouth-disable">Как отключить анимированную каплю при загрузке системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plymouth-themes">Как изменить тему экрана, отображающегося при загрузке системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plymouth-nologo">Как отключить вывод логотипа производителя устройства при загрузке системы?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ntfs">Все NTFS тома монтируются в режиме только для чтения. Как исправить?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#icon-override">Как изменить ярлык приложения из главного меню?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gnome">Как изменить сочетание клавиш для переключения языка ввода в Gnome?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x11">Как переключить рабочую среду на использование X11?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gnome-x11">Как переключить GNOME на использование X11?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kde-x11">Как переключить KDE на использование X11?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#font-identify">Как определить, какой шрифт будет использован для указанной гарнитуры?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#font-replace">Как заменить один шрифт другим на системном уровне?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#home-permissions">Как исправить права доступа для объектов в домашнем каталоге?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initrd-add-module">Как добавить модуль в initrd?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using-applications.html">Сторонние приложения</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Оборудование</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Разработка и сборка пакетов</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips-and-tricks.html">Оптимизация и тонкая настройка</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal-info.html">Правовая информация</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="security.html" title="предыдущая глава">Безопасность</a></li>
      <li>Next: <a href="using-applications.html" title="следующая глава">Сторонние приложения</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018 - 2023, EasyCoding Team and contributors.
      
    </div>

    
    <a href="https://github.com/RussianFedora/FAQ" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/forkme_right_green.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>